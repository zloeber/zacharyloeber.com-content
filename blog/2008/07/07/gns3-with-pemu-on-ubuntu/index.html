<!doctype html>
<html class="no-js" lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="author" content="">
        <meta name="description" content="">
        <meta name="keywords" content="">
        <meta name="generator" content="Hugo 0.53" />
        <title> GNS3 on Ubuntu 8.04 – Pemu Guide | </title>
        <meta name="description" content="GNS3 on Ubuntu 8.04 – Pemu Guide - %!s(&lt;nil&gt;)">
        <meta itemprop="name" content="GNS3 on Ubuntu 8.04 – Pemu Guide">
        <meta itemprop="description" content="GNS3 on Ubuntu 8.04 – Pemu Guide - %!s(&lt;nil&gt;)">
        <meta property="og:title" content="GNS3 on Ubuntu 8.04 – Pemu Guide">
        <meta property="og:description" content="GNS3 on Ubuntu 8.04 – Pemu Guide - %!s(&lt;nil&gt;)">
        <meta property="og:image" content="https://www.gravatar.com/avatar/d41d8cd98f00b204e9800998ecf8427e?size=200">
        <meta property="og:url" content="https://zacharyloeber.com/blog/2008/07/07/gns3-with-pemu-on-ubuntu/">
        <meta property="og:site_name" content="">
        <meta property="og:type" content="article">
        <link rel="icon" type="image/png" href="https://zacharyloeber.com/favicon-32x32.png" sizes="32x32">
        <link rel="icon" type="image/png" href="https://zacharyloeber.com/favicon-16x16.png" sizes="16x16">

	

        
        
        
        
        <link rel="stylesheet" href="/sass/combined.min.5aca3dc995ccd40fd537c60ccb5ce5882145ec5d4c4827c15f277667981cc0de.css">

        

        
    </head>
    <body class="bilberry-hugo-theme">
        
<nav>

    <div class="container">
        <ul class="topnav">
            
                
                    <li><a href="https://github.com/zloeber" target="_blank">Github</a></li>
                
            
                
                    <li><a href="/page/about/">About</a></li>
                
            
                
                    <li><a href="/page/about-me/">About Me</a></li>
                
            
        </ul>

        
    </div>
</nav>


        <header>
    <div class="container">
        <div class="logo">
            <a href="/" class="logo">
                
                    <img src="https://www.gravatar.com/avatar/d41d8cd98f00b204e9800998ecf8427e?d=mm&size=200" alt="">
                

                <span class="overlay"><i class="fa fa-home"></i></span>
            </a>
        </div>
        <div class="titles">
            <h3 class="title"><a href="/">My cool new blog</a></h3>
            
        </div>

    

        
        <div class="toggler">
        
            <i class="fa fa-bars" aria-hidden="true"></i>
        </div>
    </div>
</header>


        <div class="main container">
            
     
    <div class="article-wrapper u-cf single">
        
            <a class="bubble" href="/blog/2008/07/07/gns3-with-pemu-on-ubuntu/">
    <i class="fa fa-fw fa-pencil"></i>
</a>

<article class="default article">
    

    <div class="content">
    <h3><a href="/blog/2008/07/07/gns3-with-pemu-on-ubuntu/">GNS3 on Ubuntu 8.04 – Pemu Guide</a></h3>
    <div class="meta">
        
            
                <span class="date moment">2008-07-07</span>
            
        

        

        
            <span class="categories">
                
                    <a href="/categories/uncategorized">Uncategorized</a>
                
            </span>
        

        
            <span class="author"><a href="/author/zachary-loeber">Zachary Loeber</a></span>
        
    </div>

    
        <p>Ok, so far we have gone through the hoops to get GNS3 with dynamips/dynagen working nicely in an (almost) fully contained directory in /opt. We then went through choosing an IOS image that is right for you, if you actually have multiple legal images to choose from of course. Now lets setup a pix firewall. The PIX is out of life as far as Cisco is concerned and had been superseded by the ASA line of security devices. But, there are still a lot of the PIX around and the concepts haven&#8217;t changed too much between them. So let us go through the motions already!</p>

<p>Too get Pemu going on Ubuntu you first need to download it. It is based of of Qemu and the binary is actually quite small. Digging up the right one to use can be a pain but if you are a rockin&#8217; network geek and go to the 7200emu.hacki.at forums, you will be able to find it there.</p>

<p>Get pemu for at <a href="http://7200emu.hacki.at/viewtopic.php?t=5383">http://7200emu.hacki.at/viewtopic.php?t=5383</a> (note that you have to register to download the fille). Grab  pemu_2008-03-03_bin.tar.bz2 and save it to some temporary location.</p>

<p>Extract the pemu files and copy them to the pemu directory in GNS3. Then make a Pix directory for your &#8220;legal&#8221; pix images. Copy your image files to this location.</p>

<p><code>tar xjvf pemu_2008-03-03_bin.tar.bz2&lt;br /&gt;
cd pemu_2008-03-03_bin&lt;br /&gt;
sudo cp ./* /opt/GNS3/pemu&lt;br /&gt;
sudo mkdir /opt/GNS3/Pix</code></p>

<p>Then copy over your pix images to /opt/GNS3/Pix/</p>

<p>Now lets make sure GNS3 is setup properly. The pemuwrapper.py comes with GNS3 and you need to set the path accordingly. You will want to change your GNS3 settings to point to the image by default and enter in the serial number and activation codes as well. My setup looks like this:</p>

<p><a href="/wp-content/uploads/2008/07/preferences-pemu.png"><img class="aligncenter size-medium wp-image-33" title="preferences-pemu" src="/wp-content/uploads/2008/07/preferences-pemu.png?resize=300%2C271" alt="GNS3 Pemu Preferences" width="300" height="271" data-recalc-dims="1" /></a></p>

<p>Notice that the activation key is 4 hex values and has to be separated by commas. After it was setup there were still issues with the activation key when I started up a pix firewall. I had to do the following in a console of the emulated pix router to get the unrestricted activation key working.</p>

<p><code>enable&lt;br /&gt;
format flash:&lt;br /&gt;
activation-key 0x-------- 0x-------- 0x-------- 0x--------&lt;br /&gt;
copy run start&lt;br /&gt;
reload</code></p>

<p>After doing this I had issues getting the console to come back up so I closed GNS3 and killed any open gnome-terminal process (there was one in the process list that looked like &#8220;/bin/sh gnome-terminal&#8221;) and then restarted GNS3. After that, everything worked fine.</p>

<p>&#8212; UPDATE &#8212;</p>

<p>Thomas mentioned issues in maintaining settings in labs. I didn&#8217;t have the same issue from one lab to the next initially but after a reboot I did. Here is one way to save the files for loading at a later time. What you want to do is copy the FLASH file from /opt/GNS3/tmp/<your pix name in GNS>/ to another location after you have written it and saved it within the emulator. If you want to setup the serial and activation key to always work, even with a brand new lab do the following:</p>

<p><code>cd /opt/GNS3/tmp/&lt;name of pix which you have already activated in previous instructions&gt;/&lt;br /&gt;
sudo cp ./FLASH ../../Pix/FLASH.bin&lt;br /&gt;
sudo chmod +r ../../Pix/FLASH.bin</code></p>

<p>Then enter in the default flash image in in the Pemu preferences of GNS3 as /opt/GNS3/Pix/FLASH.bin and that base FLASH file will be copied over (and renamed to FLASH) for every new Pix instance you create.</p>

<p>As for backing up the running configuration for a future lab you may be able to copy out the Flash file to another location and put it back the next time you startup your machine. I&#8217;ve not tinkered with that yet.</p>

<p>&#8212; END OF UPDATE &#8212;</p>

<p>In my next testing I&#8217;ll be messing around with connecting your devices to physical and virtual interfaces. This will let us do connectivity testing (in the case of the virtual interface) and connect to a live network for other fun experiments.</p>
    
</div>

    
<div class="footer no-tags">


    

    
</div>

</article>

        
    </div>

    
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "zacharyloeber-com" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    

     

        </div>

        
<footer>
    <div class="container">

        
        <div class="recent-posts">
            <strong>Latest posts</strong>
                <ul>
                
                    <li>
                        <a href="/blog/2018/12/10/devops-tool-of-the-day-syncthing/">Devops: Tool of the day – Syncthing</a>
                    </li>
                
                    <li>
                        <a href="/blog/2018/09/28/devops-automating-kubernetes-deployments/">DevOps – Automating Kubernetes Deployments</a>
                    </li>
                
                    <li>
                        <a href="/blog/2018/05/02/powershell-to-python-notes-from-the-field/">Powershell To Python Notes From The Field</a>
                    </li>
                
                    <li>
                        <a href="/blog/2018/03/26/powershell-windows-subsystem-for-linux/">PowerShell: Windows Subsystem For Linux</a>
                    </li>
                
                    <li>
                        <a href="/blog/2018/02/24/email-reputation-and-design-a-condensed-guide/">Email Reputation and Design: A Condensed Guide</a>
                    </li>
                
                    <li>
                        <a href="/blog/2018/02/04/powershell-azuread-dynamic-groups/">PowerShell: AzureAD Dynamic Groups</a>
                    </li>
                
                    <li>
                        <a href="/blog/2018/01/10/powershell-office-365-group-based-licencing-cleanup/">PowerShell: Office 365 Group Based Licencing Cleanup</a>
                    </li>
                
                </ul>
        </div>
        

        
        <div class="categories">
            <a href="/categories/"><strong>Categories</strong></a>
                <ul>
                
                    <li>
                        <a href="/categories/system-administration">System administration (130)</a>
                    </li>
                
                    <li>
                        <a href="/categories/microsoft">Microsoft (120)</a>
                    </li>
                
                    <li>
                        <a href="/categories/powershell">Powershell (106)</a>
                    </li>
                
                    <li>
                        <a href="/categories/networking">Networking (52)</a>
                    </li>
                
                    <li>
                        <a href="/categories/active-directory">Active directory (44)</a>
                    </li>
                
                    <li>
                        <a href="/categories/exchange">Exchange (38)</a>
                    </li>
                
                    <li>
                        <a href="/categories/exchange-2010">Exchange 2010 (38)</a>
                    </li>
                
            </ul>
        </div>
        

        <div class="right">
            
            <div class="external-profiles">
                <strong>Social media</strong>

                
                
                
                
                
                
                
                
                
                
                
            </div>
            

            
        </div>
    </div>
</footer>


<div class="credits">
    <div class="container">
        <div class="copyright">
            <a href="https://github.com/Lednerb" target="_blank">
                &copy;
                
                    2018
                
                by Lednerb
            </a>
	    
        </div>
        <div class="author">
            <a href="https://github.com/Lednerb/bilberry-hugo-theme" target="_blank">Bilberry Hugo Theme</a>
        </div>
    </div>
</div>


        

        

        
        
        <script type="text/javascript" src="/js/externalDependencies.39c47e10e241eae2947b3fe21809c572.js" integrity="md5-OcR&#43;EOJB6uKUez/iGAnFcg=="></script>

        
        
        <script type="text/javascript" src="/js/theme.ff50ae6dc1bfc220b23bf69dbb41b54e.js" integrity="md5-/1CubcG/wiCyO/adu0G1Tg=="></script>

        <script>
            $(".moment").each(function() {
                $(this).text(
                    moment( $(this).text() )
                        .locale( "en" )
                        .format('LL')
                );
            });

            $(".footnote-return sup").html("");
        </script>

        

        


    </body>
</html>
