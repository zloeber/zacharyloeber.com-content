<!doctype html>
<html class="no-js" lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="author" content="Zachary Loeber">
        <meta name="description" content="Zachary Loeber&#39;s Personal Site">
        <meta name="keywords" content="blog,personal,devops,infrastructure,code">
        <meta name="generator" content="Hugo 0.53" />
        <title> Virtual Connect: Cisco MDS 9500 Fiber Connectivity | Zachary Loeber</title>
        <meta name="description" content="Virtual Connect: Cisco MDS 9500 Fiber Connectivity - Zachary Loeber&#39;s Personal Site">
        <meta itemprop="name" content="Virtual Connect: Cisco MDS 9500 Fiber Connectivity">
        <meta itemprop="description" content="Virtual Connect: Cisco MDS 9500 Fiber Connectivity - Zachary Loeber&#39;s Personal Site">
        <meta property="og:title" content="Virtual Connect: Cisco MDS 9500 Fiber Connectivity">
        <meta property="og:description" content="Virtual Connect: Cisco MDS 9500 Fiber Connectivity - Zachary Loeber&#39;s Personal Site">
        <meta property="og:image" content="https://www.gravatar.com/avatar/48fc6231ab6cad25f101a82e5932d9dd?size=200">
        <meta property="og:url" content="https://zacharyloeber.com/blog/2011/02/03/virtual-connect-cisco-mds-9500-fiber-connectivity/">
        <meta property="og:site_name" content="Zachary Loeber">
        <meta property="og:type" content="article">
        <link rel="icon" type="image/png" href="https://zacharyloeber.com/favicon-32x32.png" sizes="32x32">
        <link rel="icon" type="image/png" href="https://zacharyloeber.com/favicon-16x16.png" sizes="16x16">

	

        
        
        
        
        <link rel="stylesheet" href="/sass/combined.min.5f50be91a665634f9dfed5900bc388393fc430e3369d58e73b8375457a6df832.css">

        

        
            
        
    </head>
    <body class="bilberry-hugo-theme">
        
<nav class="permanentTopNav">

    <div class="container">
        <ul class="topnav">
            
                
                    <li><a href="/" target="">Home</a></li>
                
            
                
                    <li><a href="/page/about/">About</a></li>
                
            
                
                    <li><a href="/page/about-me/">About Me</a></li>
                
            
                
                    <li><a href="https://github.com/zloeber" target="_blank">Github</a></li>
                
            
        </ul>

        
    </div>
</nav>


        <header>
    <div class="container">
        <div class="logo">
            <a href="/" class="logo">
                
                    <img src="https://www.gravatar.com/avatar/48fc6231ab6cad25f101a82e5932d9dd?d=mm&size=200" alt="">
                

                <span class="overlay"><i class="fa fa-home"></i></span>
            </a>
        </div>
        <div class="titles">
            <h3 class="title"><a href="/">Zachary Loeber</a></h3>
            
                <span class="subtitle">The personal website of Zachary Loeber.</span>
            
        </div>

    

        
        <div class="toggler permanentTopNav">
        
            <i class="fa fa-bars" aria-hidden="true"></i>
        </div>
    </div>
</header>


        <div class="main container">
            
     
    <div class="article-wrapper u-cf single">
        
            <a class="bubble" href="/blog/2011/02/03/virtual-connect-cisco-mds-9500-fiber-connectivity/">
    <i class="fa fa-fw fa-pencil"></i>
</a>

<article class="default article">
    

    <div class="content">
    <h3><a href="/blog/2011/02/03/virtual-connect-cisco-mds-9500-fiber-connectivity/">Virtual Connect: Cisco MDS 9500 Fiber Connectivity</a></h3>
    <div class="meta">
        
            
                <span class="date moment">2011-02-04</span>
            
        

        
            <span class="readingTime">3 min read</span>
        

        
            <span class="categories">
                
                    <a href="/categories/cisco">Cisco</a>
                
                    <a href="/categories/fiber">Fiber</a>
                
                    <a href="/categories/networking">Networking</a>
                
                    <a href="/categories/storage">Storage</a>
                
                    <a href="/categories/system-administration">System Administration</a>
                
                    <a href="/categories/virtual-connect">Virtual Connect</a>
                
            </span>
        

        
            <span class="author"><a href="/author/zachary-loeber">Zachary Loeber</a></span>
        
    </div>

    
        <p>I’ve done quite a bit of work with HP’s Virtual Connect  and C7000 blade enclosures in a contained (almost pure HP) environment. Today I ran into an issue which flummoxed both myself and an on-site engineer while attempting to connect the VC 8gb interconnect bays to the Cisco MDS fiber module for an upcoming (and exciting!) VMAX implementation.</p>

<p>The port status for any of the fiber ports in VC which were connected to the Cisco MDS enclosures would show up as port status of Unavailable and with a speed of COULD-NOT-LOGON. Additionally I saw that the MDS fiber modules all showed connection errors (little red X’s are never good). This happened on all the Interconnects and MDS ports which we tried to connect fiber between. As a test we even ran fiber up to a pair of brocade switch which routes most of the san traffic for our EVA. The brocade detected nothing and showed it was still unconnected.</p>

<p>In a quick browse of the web I didn’t come up with any ringers and had initially dismissed <a href="http://h20000.www2.hp.com/bizsupport/TechSupport/Document.jsp?objectID=c01753060&amp;lang=en&amp;cc=us&amp;taskId=101&amp;prodSeriesId=3942029&amp;prodTypeId=3709945">this interesting HP article as it applied to the 4Gb ICs</a> and I was also ensured that NPIV was enabled by the on-site engineer and it was not an issue from all of his prior experiences. Well I shouldn’t have dismissed my gut feeling on the article as it would have saved me a few hours of time. I rounded back on this later on as a possible smoking gun for our issue and discovered that the fiber had indeed been all run and plugged in <em>prior</em> to NPIV being enabled on the Cisco MDS. The article says nothing less than a reboot of the IC will fix this issue (and I will eventually do so soon with an accompanying firmware upgrade). I just moved the SFP and fiber to an unused port on the IC and  BAM! The green connectivity light came on for both the Cisco MDS and the Virtual connect!</p>

<p>Funny thing is that I just then noticed that the IC ports I moved the SFPs and fiber from were all still flashing orange, even after the SFP (and associated fiber) was moved from it to another location. I guess flashing orange does not mean simply “not connected” but rather it means “freaking disabled”, whoops. I suppose it is a good thing that it doesn’t work if it detects that NPIV is not enabled on the fiber switch it is attached to.  But VC should also probably auto-detect that kind of state a bit more gracefully and not require the whole interconnect bay be restarted.</p>
    
</div>

    
<div class="footer">


    
        <div class="tags">
            <i class="fa fa-tags"></i>
            <div class="links">
                
                    <a href="/tags/fiber">Fiber</a>
                
                    <a href="/tags/networking">Networking</a>
                
                    <a href="/tags/san">SAN</a>
                
                    <a href="/tags/system-administration">System Administration</a>
                
                    <a href="/tags/virtual-connect">Virtual Connect</a>
                
            </div>
        </div>
    

    
</div>

</article>

        
    </div>

    
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "zacharyloeber-com" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    

     

        </div>

        
<footer>
    <div class="container">

        
        <div class="recent-posts">
            <strong>Latest posts</strong>
                <ul>
                
                    <li>
                        <a href="/blog/2018/12/10/devops-tool-of-the-day-syncthing/">Devops: Tool of the day – Syncthing</a>
                    </li>
                
                    <li>
                        <a href="/blog/2018/09/28/devops-automating-kubernetes-deployments/">DevOps – Automating Kubernetes Deployments</a>
                    </li>
                
                    <li>
                        <a href="/blog/2018/05/02/powershell-to-python-notes-from-the-field/">Powershell To Python Notes From The Field</a>
                    </li>
                
                </ul>
        </div>
        

        
        <div class="categories">
            <a href="/categories/"><strong>Categories</strong></a>
                <ul>
                
                    <li>
                        <a href="/categories/system-administration">System administration (130)</a>
                    </li>
                
                    <li>
                        <a href="/categories/microsoft">Microsoft (120)</a>
                    </li>
                
                    <li>
                        <a href="/categories/powershell">Powershell (106)</a>
                    </li>
                
                    <li>
                        <a href="/categories/networking">Networking (52)</a>
                    </li>
                
                    <li>
                        <a href="/categories/active-directory">Active directory (44)</a>
                    </li>
                
            </ul>
        </div>
        

        <div class="right">
            
            <div class="external-profiles">
                <strong>Social media</strong>

                
                
                    <a href="https://twitter.com/zloeber" target="_blank"><i class="fa fa-twitter-adblock-proof"></i></a>
                
                
                
                
                
                
                
                
                
                    <a href="https://github.com/zloeber" target="_blank"><i class="fa fa-github"></i></a>
                
                
            </div>
            

            
        </div>
    </div>
</footer>


<div class="credits">
    <div class="container">
        <div class="copyright">
            <a href="https://github.com/zloeber" target="_blank">
                &copy;
                
                    2019
                
                by Zachary Loeber
            </a>
	    
        </div>
        <div class="author">
            <a href="https://github.com/Lednerb/bilberry-hugo-theme" target="_blank">Bilberry Hugo Theme</a>
        </div>
    </div>
</div>


        

        

        
        
        <script type="text/javascript" src="/js/externalDependencies.39c47e10e241eae2947b3fe21809c572.js" integrity="md5-OcR&#43;EOJB6uKUez/iGAnFcg=="></script>

        
        
        <script type="text/javascript" src="/js/theme.ff50ae6dc1bfc220b23bf69dbb41b54e.js" integrity="md5-/1CubcG/wiCyO/adu0G1Tg=="></script>

        <script>
            $(".moment").each(function() {
                $(this).text(
                    moment( $(this).text() )
                        .locale( "en" )
                        .format('LL')
                );
            });

            $(".footnote-return sup").html("");
        </script>

        
            
        

        


    </body>
</html>
